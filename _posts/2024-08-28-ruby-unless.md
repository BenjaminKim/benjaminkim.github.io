---
layout: post
categories: essay
image: /assets/img/daily_coding.png
title: Rubyì˜ unless ì‰½ê²Œ ì½ê¸°
date: 2024-08-28 11:30:00 +0900
---

Ruby ì—ëŠ” `unless` ë¬¸ë²•ì´ ìˆìŠµë‹ˆë‹¤.  
`if !current_user`ë¥¼ `unless current_user`ë¡œ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê°„ë‹¨í•œ ì¡°ê±´ì—ì„œëŠ” ì¢‹ì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤.  
ìì—°ì–´ì²˜ëŸ¼ ì½íˆê±°ë“ ìš”.
```ruby
return unless user_logged_in # ê¹”ë”
```

ê·¸ëŸ°ë° ì¡°ê±´ì´ ì—¬ëŸ¬ ê°œ ìˆëŠ” ê²½ìš°ì—ëŠ”?
```ruby
unless file.exist? && file.owner == current_user && permission != :readonly
  # do something
end
```


í•˜, ë¨¸ë¦¬ê°€ íŒ½íŒ½ ë•ë‹ˆë‹¤.  
ì–´ë–¤ ê°œìƒˆê°€ ì´ë ‡ê²Œ ì½”ë“œë¥¼ ì¨ë†¨ì–´?  
`unless` ë¡œ ë³µì¡í•œ ì¡°ê±´ì„ ì ì€ ì½”ë“œë¥¼ ë³¼ ë•Œë§ˆë‹¤ `if` ë¡œ ê³ ì¹˜ê³¤ í–ˆìŠµë‹ˆë‹¤.

ì–´ëŠ ë‚ , ê°™ì´ ì¼í•˜ë˜ ë™ìƒì—ê²Œ í¥ë¯¸ë¡œìš´ ì¡°ì–¸ì„ ë“¤ì—ˆìŠµë‹ˆë‹¤.  
> `unless`ë¥¼ `assert` ì²˜ëŸ¼ ìƒê°í•˜ê³  ì½ìœ¼ë©´ ì¢‹ì•„ìš”.

ì•„ë˜ ì½”ë“œ ì²˜ëŸ¼ ìƒê°í•˜ë©´ ì¢‹ë‹¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.
```ruby
assert(file.exist? && file.owner == current_user && permission != :readonly)
```
ì¦‰, ë°˜ë“œì‹œ íŒŒì¼ì´ ì¡´ì¬í•´ì•¼ í•˜ê³ ,  
ì†Œìœ ìëŠ” í˜„ì¬ ì‚¬ìš©ìì´ë©°,  
ì½ê¸° ì „ìš©ì´ ì•„ë‹ˆì–´ì•¼ ë‹¤ìŒ ì½”ë“œë¡œ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.

í•¨ìˆ˜ ì‹œì‘ë¶€ì— `assert` ë¥¼ ì“°ë“¯ì´ `unless`ë¥¼ ë¹„ìŠ·í•œ ìš©ë„ë¡œ ì“°ë©´ ì½ê¸°ê°€ ì˜¤íˆë ¤ í¸í•œ ê²½ìš°ê°€ ìˆë‹¤ê³ .  

```ruby
raise FileNotExist unless file.exist?
raise AccessDenied unless file.owner == current_user && permission != :readonly
```

ì˜¤ ë­ì•¼? ì¢‹ì€ë°?  
ë‚¯ì„¤ìŒì„ ë’¤ë¡œí•˜ê³  ì €ëŠ” ì´ê±¸ ë°›ì•„ë“¤ì˜€ìŠµë‹ˆë‹¤.  
ë” ì´ìƒ `unless`ë¥¼ `if` ë¡œ ê³ ì¹˜ì§€ ì•Šê³  ì ì ˆíˆ ì„ì–´ ì“°ê²Œ ëìŠµë‹ˆë‹¤.

ì˜¤ëŠ˜ë„ ì´ëŸ° `unless` ì½”ë“œë¥¼ ì“°ë‹¤ê°€ ì¡°ì–¸í•´ ì¤€ ë™ìƒ ìƒê°ì´ ë‚¬ìŠµë‹ˆë‹¤.  
ì•Œë ¤ì¤˜ì„œ ê³ ë§™ë‹¤.ğŸ˜

<br>
*í•¨ê»˜ ì½ìœ¼ë©´ ì¢‹ì€ ê¸€:*
* [RubyëŠ” í”„ë¡œê·¸ë˜ë¨¸ë¥¼ ìœ„í•œ ì„ ë¬¼](/essay/2022/02/18/ruby.html)
* [ë£¨ë¹„ê°€ ëŠë¦¬ë‹¤ê³ ?](/essay/2023/01/04/dont-say-ruby-is-slow.html)

